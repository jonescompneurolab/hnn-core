<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Contributions &#8212; hnn-core  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-199741045-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-199741045-1');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          hnn-core</a>
        <span class="navbar-text navbar-version pull-left"><b>0.3</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="auto_examples/index.html">Examples</a></li>
                <li><a href="gui/index.html">GUI</a></li>
                <li><a href="api.html">API</a></li>
                <li><a href="glossary.html">Glossary</a></li>
                <li><a href="whats_new.html">Whats new</a></li>
                <li><a href="https://github.com/jonescompneurolab/hnn-core">GitHub</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Contributions</a><ul>
<li><a class="reference internal" href="#setting-up-your-local-development-environment">Setting up your local development environment</a><ul>
<li><a class="reference internal" href="#configuring-git">Configuring git</a></li>
</ul>
</li>
<li><a class="reference internal" href="#making-your-first-pull-request">Making your first pull request</a></li>
<li><a class="reference internal" href="#installing-editable-hnn-core">Installing editable hnn-core</a></li>
<li><a class="reference internal" href="#running-tests">Running tests</a></li>
<li><a class="reference internal" href="#updating-documentation">Updating documentation</a><ul>
<li><a class="reference internal" href="#building-the-documentation">Building the documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-rebase">How to rebase</a></li>
<li><a class="reference internal" href="#continuous-integration">Continuous Integration</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/contributing.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
<div class="navbar-form navbar-right navbar-btn dropdown btn-group-sm" style="margin-left: 20px; margin-top: 5px; margin-bottom: 5px">
  <button type="button" class="btn btn-primary navbar-btn dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown">
    v0.3
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="https://jonescompneurolab.github.io/hnn-core/dev/index.html">Development</a></li>
    <li><a href="https://jonescompneurolab.github.io/hnn-core/stable/index.html">Stable</a></li>
    <li><a href="https://jonescompneurolab.github.io/hnn-core/v0.1/index.html">v0.1</a></li>
    <li><a href="https://jonescompneurolab.github.io/hnn-core/v0.2/index.html">v0.2</a></li>
  </ul>
</div>


            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="contributions">
<span id="contributing"></span><h1>Contributions<a class="headerlink" href="#contributions" title="Permalink to this headline">¶</a></h1>
<p>Please read the contribution guide <strong>until the end</strong> before beginning
contributions.</p>
<p>Contributions are welcome in the form of pull requests.</p>
<p>Once the implementation of a piece of functionality is considered to be bug
free and properly documented (both API docs and an example script),
it can be incorporated into the master branch.</p>
<p>To help developing <code class="docutils literal notranslate"><span class="pre">hnn-core</span></code>, you will need a few adjustments to your
installation as shown below.</p>
<p>If your contributions will make use of parallel backends for using more than
one core, please see the additional installation steps in our
<a class="reference internal" href="parallel.html"><span class="doc">parallel backend guide</span></a>.</p>
<section id="setting-up-your-local-development-environment">
<h2>Setting up your local development environment<a class="headerlink" href="#setting-up-your-local-development-environment" title="Permalink to this headline">¶</a></h2>
<section id="configuring-git">
<h3>Configuring git<a class="headerlink" href="#configuring-git" title="Permalink to this headline">¶</a></h3>
<p>Instructions for how to configure git can be found on
the git book <a class="reference external" href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration">configuration</a> page.</p>
</section>
</section>
<section id="making-your-first-pull-request">
<h2>Making your first pull request<a class="headerlink" href="#making-your-first-pull-request" title="Permalink to this headline">¶</a></h2>
<p>Changes to hnn-core are typically made by “forking” the hnn-core
repository, making changes to your fork (usually by “cloning” it to your
personal computer, making the changes locally, and then “pushing” the local
changes up to your fork on GitHub), and finally creating a “pull request” to incorporate
your changes back into the shared “upstream” version of the codebase.</p>
<p>In general you’ll be working with three different copies of the hnn-core
codebase: the official remote copy at <a class="reference external" href="https://github.com/jonescompneurolab/hnn-core">https://github.com/jonescompneurolab/hnn-core</a>
(usually called <code class="docutils literal notranslate"><span class="pre">upstream</span></code>), your remote fork of the upstream repository
(similar URL, but with your username in place of <code class="docutils literal notranslate"><span class="pre">hnn-core</span></code>, and usually
called <code class="docutils literal notranslate"><span class="pre">origin</span></code>), and the local copy of the codebase on your computer. The
typical contribution process is to</p>
<ol class="arabic">
<li><p>Make a fork of the <a class="reference external" href="https://github.com/jonescompneurolab/hnn-core">hnn-core</a>
repository to your own account on github. Look for the Fork button in the top right corner</p></li>
<li><p>On the terminal of your local computer clone the fork:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/&lt;username&gt;/hnn-core
</pre></div>
</div>
</li>
<li><p>On the terminal of your local computer set up the remotes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd hnn-core
$ git remote add upstream https://github.com/jonescompneurolab/hnn-core
</pre></div>
</div>
</li>
<li><p>Check that the remotes have been correctly added:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git remote -v
</pre></div>
</div>
<p>You should see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">origin</span>      <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/&lt;</span><span class="n">username</span><span class="o">&gt;/</span><span class="n">hnn</span><span class="o">-</span><span class="n">core</span> <span class="p">(</span><span class="n">fetch</span><span class="p">)</span>
<span class="n">origin</span>      <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/&lt;</span><span class="n">username</span><span class="o">&gt;/</span><span class="n">hnn</span><span class="o">-</span><span class="n">core</span> <span class="p">(</span><span class="n">push</span><span class="p">)</span>
<span class="n">upstream</span>    <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jonescompneurolab</span><span class="o">/</span><span class="n">hnn</span><span class="o">-</span><span class="n">core</span> <span class="p">(</span><span class="n">fetch</span><span class="p">)</span>
<span class="n">upstream</span>    <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jonescompneurolab</span><span class="o">/</span><span class="n">hnn</span><span class="o">-</span><span class="n">core</span> <span class="p">(</span><span class="n">push</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>To start a new feature branch, we will copy the existing <code class="docutils literal notranslate"><span class="pre">master</span></code> branch from
the <code class="docutils literal notranslate"><span class="pre">upstream</span></code> remote and give it a specific name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch upstream master:cool_feature
$ git checkout cool_feature
</pre></div>
</div>
</li>
<li><p>Make your changes relevant to the pull request</p></li>
<li><p>To make a commit, you first have to add the files you have changed to the staging area:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git add -u
</pre></div>
</div>
<p>ensure they have been added correctly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
<p>make a commit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git commit -m &quot;your commit message&quot;
</pre></div>
</div>
<p>and finally check that the commit has been added:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git log
</pre></div>
</div>
<p>Note: see the <a class="reference external" href="https://numpy.org/doc/stable/dev/development_workflow.html#writing-the-commit-message">numpy contributing guide</a>
for tips on informative commit messages.</p>
</li>
<li><p>Now push the feature branch to your fork:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push origin cool_feature
</pre></div>
</div>
</li>
<li><p>Go to <a class="reference external" href="https://github.com/jonescompneurolab/hnn-core/compare">https://github.com/jonescompneurolab/hnn-core/compare</a> to open the pull request by selecting your feature branch.
You should also see this link on the terminal when you make the push.</p></li>
</ol>
<ol class="arabic simple" start="11">
<li><p>After your pull request is reviewed, repeat steps 6-8 to update the pull request.</p></li>
<li><p>Once the pull request is ready to be merged, add the prefix [MRG] to the title.</p></li>
</ol>
<p>See the <a class="reference external" href="https://git-scm.com/book/en/v2">git book</a> for a more general guide on using git.</p>
</section>
<section id="installing-editable-hnn-core">
<h2>Installing editable hnn-core<a class="headerlink" href="#installing-editable-hnn-core" title="Permalink to this headline">¶</a></h2>
<p>For making changes to hnn-core, you will need to install an editable
version of hnn-core. For that you need to have the git cloned <code class="docutils literal notranslate"><span class="pre">hnn-core</span></code>
repository and use pip with the editable (<code class="docutils literal notranslate"><span class="pre">-e</span></code>) flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/jonescompneurolab/hnn-core
$ cd hnn-core
$ pip install -e &#39;.[gui]&#39;
$ python setup.py build_mod
</pre></div>
</div>
<p>The last step builds <code class="docutils literal notranslate"><span class="pre">mod</span></code> files which specifies the dynamics of specific
cellular mechanisms. These are converted to C, and hence require a compilation
step. In the normal course of development, you will not have to edit these
files. However, if you do have to update them, they will need to be rebuilt
using the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py build_mod
</pre></div>
</div>
</section>
<section id="running-tests">
<h2>Running tests<a class="headerlink" href="#running-tests" title="Permalink to this headline">¶</a></h2>
<p>Once you have the editable hnn-core, you should install the requirements
for running the tests. Tests help ensure integrity of the package after
your change has been made. We recommend developers to run tests locally
on their computers after making changes.</p>
<p>We use the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> testing framework.</p>
<p>Install the following python packages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install flake8 pytest pytest-cov
</pre></div>
</div>
<p>To run the tests simply type into your terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make test
</pre></div>
</div>
<p>MPI tests are skipped if the <code class="docutils literal notranslate"><span class="pre">mpi4py</span></code> module is not installed. We highly
encourage contributors to follow the <a class="reference internal" href="parallel.html"><span class="doc">parallel backend guide</span></a>
to install <code class="docutils literal notranslate"><span class="pre">mpi4py</span></code> so that they can run the entire test suite locally
on their computer.</p>
</section>
<section id="updating-documentation">
<h2>Updating documentation<a class="headerlink" href="#updating-documentation" title="Permalink to this headline">¶</a></h2>
<p>When you update the documentation, it is recommended to build it locally to
check whether the documentation renders correctly in HTML.</p>
<p>Certain documentation files require explicit updates by the contributor of a given change (i.e., you). These are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">doc/api.rst</span></code> if you added a new function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doc/whats_new.rst</span></code> to document the fix or change so you can be credited on the next release.</p></li>
</ul>
<p>Please update these documents once your pull request is ready to merge to avoid rebase conflicts with other
pull requests.</p>
<section id="building-the-documentation">
<h3>Building the documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline">¶</a></h3>
<p>The documentation can be built using sphinx. For that, please additionally
install the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install matplotlib sphinx numpydoc sphinx-gallery sphinx_bootstrap_theme sphinx-copybutton pillow joblib psutil nbsphinx
</pre></div>
</div>
<p>You can build the documentation locally using the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd doc/
$ make html
</pre></div>
</div>
<p>While MNE is not needed to install hnn-core, as a developer you will need to
install it to run all the examples successfully. Please find the installation
instructions on the <a class="reference external" href="https://mne.tools/stable/install/index.html">MNE website</a>.</p>
<p>If you want to build the documentation locally without running all the examples,
use the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make html-noplot
</pre></div>
</div>
<p>Finally, to view the documentation, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make view
</pre></div>
</div>
</section>
</section>
<section id="how-to-rebase">
<h2>How to rebase<a class="headerlink" href="#how-to-rebase" title="Permalink to this headline">¶</a></h2>
<p>Commits in hnn-core follow a linear history, therefore we use a “rebase” workflow
instead of “merge” to resolve commits.
See <a class="reference external" href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing">this article</a> for more details
on the differences between these workflows.</p>
<p>To rebase, we do the following:</p>
<ol class="arabic">
<li><p>Checkout the feature branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout cool_feature
</pre></div>
</div>
</li>
<li><p>Delete the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch and fetch a new copy:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch -D master
$ git fetch upstream master:master
</pre></div>
</div>
</li>
<li><p>Start the rebase:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git rebase master
</pre></div>
</div>
</li>
<li><p>If there are conflicts, the easiest approach is to resolve them in an editor
like VS code.
See <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging">this guide</a>
for more general information on resolve merge conflicts</p></li>
<li><p>Once the conflicts have been resolved, add the resolved files to the staging area:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git add -u
$ git rebase --continue
</pre></div>
</div>
</li>
</ol>
<p>In general it is best to rebase frequently if you are aware of pull requests being merged
into the <code class="docutils literal notranslate"><span class="pre">master</span></code> base.</p>
<p>If you face a lot of difficulting resolving merge conflicts,
it may be easier to <a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">squash</a>
before rebasing.</p>
</section>
<section id="continuous-integration">
<h2>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a></h2>
<p>The repository is tested via continuous integration with GitHub Actions and
Circle. The automated tests run on GitHub Actions while the documentation is
built on Circle.</p>
<p>To speed up the documentation-building process on CircleCI, we enabled versioned
<a class="reference external" href="https://circleci.com/docs/caching/">caching</a>.</p>
<p>Usually, you don’t need to worry about it. But in case a complete rebuild is necessary
for a new version of the doc, you can modify the content in <code class="docutils literal notranslate"><span class="pre">.circleci/build_cache</span></code>, as
CircleCI uses the MD5 of that file as the key for previously cached content.
For consistency, we recommend you to monotonically increase the version number
in that file, e.g., from “v2”-&gt; “v3”.</p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, HNN Developers.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>